# Get External IP / local IPs
alias ip='ip -c'
alias ipconfig='curl ipinfo.io/ip'
alias ips="ip a | perl -nle '/(\d+\.\d+\.\d+\.\d+)/ && print $1'"
alias speedtest='curl -s https://raw.githubusercontent.com/sivel/speedtest-cli/master/speedtest.py | python -'

# Open subsystem folder with GUI
if [[ $(uname -a) =~ 'microsoft' ]]; then
	alias open='explorer.exe'
elif [[ $(uname -a) =~ 'Linux' ]]; then
	alias open='xdg-open'
fi

# Python
alias serve='python -m SimpleHTTPServer'
alias py='python'

# Terraform
alias tf='terraform'

# Docker
alias dnames="docker ps --format '{{.Names}}'"

function dip {
  for NAME in $(dnames)
  do
    IP=$(docker inspect --format='{{range .NetworkSettings.Networks}}{{println .IPAddress}}{{end}}' ${NAME})
    OUT+="${NAME}\t${IP}\n"
  done
  echo ${OUT} | column -t
  unset NAME IP OUT
}

alias de='docker exec -it'
alias dl='docker logs -f'
alias dn='docker network ls'
alias di='docker image ls'
alias dc='docker container ls'
alias dr='docker container run -d'
alias ds='docker container stop $(dc -q)'
alias drm='docker container rm $(dc -aq)'
alias dcu='docker compose up -d'
alias dcd='docker compose down'

# Kubernetes
alias k='kubectl'
alias ka='kubectl apply -f'
alias kgp='kubectl get pods -o wide --show-labels'
alias kgn='kubectl get nodes -o wide --show-labels'
alias kga='kubectl get all -o wide --show-labels'
